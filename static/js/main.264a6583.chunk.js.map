{"version":3,"sources":["assets/githubLogo.png","hocs/withPersistence.js","components/Sidebar.js","hocs/withSdk.js","helpers/Sdk.js","components/Gantt.js","components/MilestonesGantt.js","components/OrganizationGantt.js","components/Wiki.js","components/Home.js","components/App.js","index.js"],"names":["module","exports","get","field","localStorage","getItem","set","value","setItem","remove","removeItem","withPersistence","WrappedComponent","props","persistence","width","height","children","React","useState","xPosition","setX","useEffect","Fragment","className","style","transform","minHeight","onClick","sdk","token","baseUrl","setToken","fetch","path","a","options","headers","Authorization","res","ok","Error","json","this","orgs","data","Promise","all","map","team","repositories_url","repositories","repo","name","milestones","milestone","number","issues","withSdk","error","setError","window","location","search","method","body","JSON","stringify","code","URLSearchParams","state","Math","random","access_token","href","console","execute","dateToStr","gantt","date","date_to_str","config","task_date","Gantt","tasks","ganttContainer","useRef","zoomConfig","levels","scale_height","min_column_width","scales","unit","step","format","endDate","add","ext","zoom","init","readonly","columns","label","tree","templates","task_text","start","end","task","out","title","percentage","round","progress","plugins","tooltip","marker","addMarker","start_date","Date","css","text","parse","clearAll","render","ref","input","fetchOrganizationData","organization","listTeams","reduce","acc","some","length","teamItem","id","html_url","type","types","project","color","textColor","open","push","forEach","repoItem","parent","open_issues","closed_issues","dueOn","due_on","milestoneItem","created_at","end_date","closed_at","now","issue","pull_request","labels","find","issueItem","assignee","avatar_url","login","isFetching","setIsFetching","setData","attachEvent","eachTask","$open","withRouter","match","organizations","setOrganizations","listOrganizations","i","key","src","to","params","Wiki","githubLogo","App","basename","exact","component","Home","OrganizationGantt","require","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.264a6583.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/githubLogo.30b150cd.png\";","import React from \"react\"\n\nconst get = field => localStorage.getItem(field)\n\nconst set = (field, value) => localStorage.setItem(field, value)\n\nconst remove = field => localStorage.removeItem(field)\n\nconst withPersistence = WrappedComponent => {\n  return (props) => <WrappedComponent {...props} persistence={{ get, set, remove }} />\n}\n\nexport default withPersistence\n","// import \"./Sidebar.css\"\nimport withPersistence from \"../hocs/withPersistence\"\nimport React from \"react\"\n\nexport const Sidebar = ({ width = \"200\", height = \"100vh\", children, persistence }) => {\n  const [xPosition, setX] = React.useState(persistence.get(\"sidebar\") || -width)\n\n  const toggleMenu = () => {\n    if (xPosition < 0) {\n      setX(0)\n    } else {\n      setX(-width)\n    }\n  }\n\n  React.useEffect(() => {\n    persistence.set(\"sidebar\", xPosition)\n  }, [xPosition])\n\n  return (\n    <React.Fragment>\n      <div\n        className=\"side-bar\"\n        style={{\n          transform: `translatex(${xPosition}px)`,\n          width,\n          minHeight: height\n        }}\n      >\n        <button\n          onClick={() => toggleMenu()}\n          className=\"toggle-menu\"\n          style={{\n            transform: `translate(${width}px, 20vh)`\n          }}\n        />\n        <div className=\"content\">{children}</div>\n      </div>\n    </React.Fragment>\n  )\n}\n\nexport default withPersistence(Sidebar)\n","import React, { useEffect, useState } from \"react\"\nimport Sdk from \"../helpers/Sdk\"\nimport withPersistence from \"../hocs/withPersistence.js\"\n\nconst sdk = new Sdk({ token: localStorage.getItem(\"access_token\") })\n\nconst withSdk = WrappedComponent => {\n  return withPersistence(props => {\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n      const execute = async () => {\n        if (window.location.search) {\n          // https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/#web-application-flow\n          const res = await fetch(\"https://wtrc7fvnyd.execute-api.eu-west-1.amazonaws.com/Prod/auth/\", {\n            method: \"POST\",\n            body: JSON.stringify({\n              code: new URLSearchParams(window.location.search).get(\"code\"),\n              state: Math.random()\n            })\n          })\n          if (res.ok) {\n            const { access_token } = await res.json()\n            props.persistence.set(\"access_token\", access_token)\n            window.location.href = \"/\"\n          } else {\n            console.error(await res.json())\n            setError(true)\n          }\n        }\n      }\n\n      execute()\n    }, [])\n\n    if (error) {\n      return <span>Error while fetching GitHub access token using code</span>\n    } else {\n      return <WrappedComponent {...props} sdk={sdk} />\n    }\n  })\n}\n\nexport default withSdk\n","export default class Sdk {\n  constructor({ token, baseUrl = \"https://api.github.com\" }) {\n    this.token = token\n    this.baseUrl = baseUrl\n  }\n\n  setToken = token => {\n    this.token = token\n  }\n\n  fetch = async(path, options = {}) => {\n\n    if (!options.headers) {\n      options.headers = {}\n    }\n\n    options.headers.Authorization = `token ${this.token}`\n\n    const res = await fetch(path, options)\n    if (!res.ok) {\n      throw new Error(await res.json())\n    }\n\n    return res.json()\n  }\n\n  listOrganizations() {\n    return this.fetch(`${this.baseUrl}/user/orgs`)\n  }\n\n  async listTeams(orgs) {\n    const data = await this.fetch(`${this.baseUrl}/orgs/${orgs}/teams`)\n    return Promise.all(\n      data.map(async team => {\n        team.repositories = await this.fetch(team.repositories_url)\n        team.repositories = await Promise.all(team.repositories.map(async repo => {\n          repo.milestones = await this.fetch(`${this.baseUrl}/repos/${orgs}/${repo.name}/milestones`)\n          repo.milestones = await Promise.all(repo.milestones.map(async milestone => {\n            milestone.issues = await this.fetch(`${this.baseUrl}/repos/${orgs}/${repo.name}/issues?milestone=${milestone.number}&state=all`)\n            return milestone\n          }))\n          return repo\n        }))\n        return team\n      })\n    )\n  }\n}","import React, { Component, useEffect, useRef } from \"react\"\nimport { gantt } from \"dhtmlx-gantt\"\nimport \"dhtmlx-gantt/codebase/dhtmlxgantt.css\"\n\nconst dateToStr = gantt.date.date_to_str(gantt.config.task_date)\nconst Gantt = ({ tasks }) => {\n  let ganttContainer = useRef()\n\n  useEffect(() => {\n    var zoomConfig = {\n      levels: [\n        {\n          name:\"day\",\n          scale_height: 27,\n          min_column_width:80,\n          scales:[\n            {unit: \"day\", step: 1, format: \"%d %M\"}\n          ]\n        },\n        {\n          name:\"week\",\n          scale_height: 50,\n          min_column_width:50,\n          scales:[\n            {unit: \"week\", step: 1, format: function (date) {\n                var dateToStr = gantt.date.date_to_str(\"%d %M\");\n                var endDate = gantt.date.add(date, -6, \"day\");\n                var weekNum = gantt.date.date_to_str(\"%W\")(date);\n                return \"#\" + weekNum + \", \" + dateToStr(date) + \" - \" + dateToStr(endDate);\n              }},\n            {unit: \"day\", step: 1, format: \"%j %D\"}\n          ]\n        },\n        {\n          name:\"month\",\n          scale_height: 50,\n          min_column_width:120,\n          scales:[\n            {unit: \"month\", format: \"%F, %Y\"},\n            {unit: \"week\", format: \"Week #%W\"}\n          ]\n        },\n        {\n          name:\"quarter\",\n          height: 50,\n          min_column_width:90,\n          scales:[\n            {unit: \"month\", step: 1, format: \"%M\"},\n            {\n              unit: \"quarter\", step: 1, format: function (date) {\n                var dateToStr = gantt.date.date_to_str(\"%M\");\n                var endDate = gantt.date.add(gantt.date.add(date, 3, \"month\"), -1, \"day\");\n                return dateToStr(date) + \" - \" + dateToStr(endDate);\n              }\n            }\n          ]},\n        {\n          name:\"year\",\n          scale_height: 50,\n          min_column_width: 30,\n          scales:[\n            {unit: \"year\", step: 1, format: \"%Y\"}\n          ]}\n      ]\n    }\n\n    gantt.ext.zoom.init(zoomConfig)\n    gantt.config.readonly = true\n    gantt.config.columns = [\n      { name: \"text\", label: \"Resource\", width: \"*\", tree: true }\n    ]\n    gantt.templates.task_text = function (start, end, task) {\n      let out = \"\"\n\n      if (task.title) {\n        out += task.title\n      }\n\n      if (task.percentage) {\n        out += ` (${Math.round(task.progress * 100)}%)`\n      }\n\n      return out\n    }\n    gantt.plugins({\n      tooltip: true,\n      marker: true\n    })\n\n    gantt.addMarker({\n      start_date: new Date(),\n      css: \"today\",\n      text: \"Now\",\n      title: dateToStr(new Date())\n    })\n\n    gantt.init(ganttContainer)\n    gantt.parse({ data: tasks })\n  }, [])\n\n  useEffect(() => {\n    gantt.clearAll()\n    gantt.addMarker({\n      start_date: new Date(),\n      css: \"today\",\n      text: \"Now\",\n      title: dateToStr(new Date())\n    })\n    gantt.parse({ data: tasks })\n    gantt.render()\n  }, [tasks])\n\n  return (\n    <div\n      ref={input => {\n        ganttContainer = input\n      }}\n      style={{ width: \"100%\", height: \"100%\" }}\n    />\n  )\n}\n\nexport default Gantt\n","import React, { useEffect, useState, useRef } from \"react\"\nimport \"../styles/App.scss\"\nimport { gantt } from \"dhtmlx-gantt\"\nimport Gantt from \"./Gantt.js\"\nimport withPersistence from \"../hocs/withPersistence.js\"\nimport \"dhx-suite/codebase/suite.min.css\"\nimport withSdk from \"../hocs/withSdk.js\"\n\nconst fetchOrganizationData = async ({ sdk, organization }) => {\n  const data = await sdk.listTeams(organization)\n\n  return data.reduce((acc, team) => {\n    if (!team.repositories.some(repo => repo.milestones && repo.milestones.length)) {\n      return acc\n    }\n\n    const teamItem = {\n      id: team.id,\n      title: team.name,\n      text: `<a href=\"${team.html_url}\" target=\"_blank\">${team.name}</a>`,\n      type: gantt.config.types.project,\n      color: \"#f1f8ff\",\n      textColor: \"black\",\n      open: true\n    }\n    acc.push(teamItem)\n\n    if (team.repositories) {\n      team.repositories.forEach(repo => {\n\n        if (repo.milestones && repo.milestones.length) {\n\n          const repoItem = {\n            id: repo.id,\n            parent: team.id,\n            title: repo.name,\n            text: `<a href=\"${repo.html_url}\" target=\"_blank\">${repo.name}</a>`,\n            type: gantt.config.types.project,\n            color: \"#fff3a1\",\n            textColor: \"black\",\n            open: true\n          }\n          acc.push(repoItem)\n\n          repo.milestones.forEach(milestone => {\n            const progress = 1 - milestone.open_issues / (milestone.open_issues + milestone.closed_issues)\n            const dueOn = new Date(milestone.due_on)\n            const milestoneItem = {\n              id: milestone.id,\n              parent: repo.id,\n              title: `#${milestone.number} ${milestone.title}`,\n              text: `<a href=\"${milestone.html_url}\" target=\"_blank\">#${milestone.number} ${milestone.title}</a`,\n              start_date: new Date(milestone.created_at),\n              end_date: dueOn,\n              type: gantt.config.types.task,\n              progress,\n              percentage: true,\n              color: milestone.closed_at ? \"#46ad51\" : Date.now() > dueOn ? \"#d81b1b\" : \"#46ad51\",\n              open: true\n            }\n            acc.push(milestoneItem)\n\n            if (milestone.issues) {\n              milestone.issues.forEach(issue => {\n                // const isDocu = issue.labels.find(label => label.name === \"documentation\")\n                if (issue.pull_request || issue.labels.find(label => label.name === \"documentation\")) {\n                  return\n                }\n\n                const issueItem = {\n                  id: issue.id,\n                  parent: milestone.id,\n                  title: `#${issue.number} ${issue.title}`,\n                  text: `\n                    <a href=\"${issue.html_url}\" target=\"_blank\">#${issue.number} ${issue.title}</a>\n                    ${issue.assignee ? `\n                      <a href=\"${issue.assignee.html_url}\" target=\"_blank\">\n                        <img src=\"${issue.assignee.avatar_url}\" alt=\"${issue.assignee.login}\" class=\"thumb\">\n                      </a>` : \"\"}\n                  `,\n                  start_date: new Date(issue.created_at),\n                  end_date: issue.closed_at ? new Date(issue.closed_at) : dueOn,\n                  color: issue.closed_at ? \"#1b668a9e\" : \"#1b668a\",\n                  open: true,\n                  type: gantt.config.types.task\n                }\n\n                acc.push(issueItem)\n              })\n            }\n          })\n        }\n      })\n    }\n    return acc\n  }, [])\n}\n\nconst MilestonesGantt = ({ persistence, organization, sdk }) => {\n  const [isFetching, setIsFetching] = useState(false)\n  const [error, setError] = useState(false)\n  const [data, setData] = useState([])\n\n  useEffect(() => {\n    const execute = async organization => {\n      if (!persistence.get(\"access_token\")) {\n        return setError(true)\n      }\n\n      setIsFetching(true)\n      try {\n        const data = await fetchOrganizationData({ sdk, organization })\n        setData(data)\n        setError(false)\n        setIsFetching(false)\n      } catch (err) {\n        setData([])\n        setError(true)\n        setIsFetching(false)\n      }\n    }\n\n    void execute(organization)\n  }, [organization])\n\n  gantt.attachEvent(\"onTaskClosed\", id => {\n    persistence.set(id, \"closed\")\n  })\n\n  gantt.attachEvent(\"onTaskOpened\", id => {\n    persistence.remove(id)\n  })\n\n  gantt.attachEvent(\"onParse\", () => {\n    gantt.eachTask(task => {\n      if (persistence.get(task.id) === \"closed\") {\n        task.$open = false\n      }\n    })\n  })\n\n  if (error) {\n    return <span>Error while fetching data from GitHub</span>\n  } else if (isFetching) {\n    return <span>Loading...</span>\n  } else {\n    return <div className=\"milestones\">\n      <div className=\"gantt-container\">\n        {\n          data && <Gantt tasks={data} zoom=\"Months\"/>\n        }\n      </div>\n    </div>\n  }\n}\n\nexport default withPersistence(withSdk(MilestonesGantt))\n","import React, { useEffect, useState } from \"react\"\nimport Sidebar from \"./Sidebar\"\nimport { withRouter, Link, Redirect } from \"react-router-dom\"\nimport withSdk from \"../hocs/withSdk.js\"\nimport withPersistence from \"../hocs/withPersistence\"\nimport MilestonesGantt from \"./MilestonesGantt\"\n\nconst OrganizationGantt = ({ sdk, match, persistence }) => {\n  const [organizations, setOrganizations] = useState([])\n\n  useEffect(() => {\n    const execute = async () => {\n      const organizations = await sdk.listOrganizations()\n      setOrganizations(organizations)\n    }\n\n    if (persistence.get(\"access_token\")) {\n      void execute()\n    }\n  }, [])\n\n  if (!persistence.get(\"access_token\")) {\n    return <Redirect to={\"/\"} />\n  }\n\n  return (\n    <div className = \"organization-gantt\">\n      <Sidebar>\n        <h3>Organizations</h3>\n        <ul>\n          {\n            organizations.map((organization, i) => {\n              return (\n                <li key={i}>\n                  <img src = {organization.avatar_url} width={30}/><Link to = {`/gantt/${organization.login}`}>{ organization.login }</Link>\n                </li>\n              )\n            })\n          }\n        </ul>\n        <h3>Filters</h3>\n      </Sidebar>\n      <MilestonesGantt organization = { match.params.organization } />\n    </div>\n  )\n}\n\nexport default withPersistence(withSdk(withRouter(OrganizationGantt)))\n","import React from \"react\"\nimport \"../styles/App.scss\"\n\nconst Wiki = ({ sdk }) => {\n  return (\n    <div className=\"app\">\n      wiki\n      {/* {sdk.listTeams(\"soluzionifutura\")} */}\n    </div>\n  )\n}\n\nexport default Wiki\n","import React, {useEffect, useState} from \"react\"\nimport { Link } from \"react-router-dom\"\nimport withPersistence from \"../hocs/withPersistence.js\"\nimport withSdk from \"../hocs/withSdk.js\"\nimport githubLogo from \"../assets/githubLogo.png\"\n\nconst clientId = \"3a4d6f71dcd5a9385017\"\nconst callbackUrl = process.env.NODE_ENV === \"development\" ? \"http://localhost:3000\" : \"https://soluzionifutura.github.io/sf-hq\"\n\nconst Home = (props) => {\n  const [organizations, setOrganizations] = useState([])\n\n  useEffect(() => {\n    const execute = async () => {\n      const organizations = await props.sdk.listOrganizations()\n      setOrganizations(organizations)\n    }\n\n    if (props.persistence.get(\"access_token\")) {\n      void execute()\n    }\n  }, [])\n\n\n  if (!props.persistence.get(\"access_token\")) {\n    return (\n      <a href={ `https://github.com/login/oauth/authorize?client_id=${clientId}&redirect_uri=${callbackUrl}&scope=admin:org repo` }>\n        <img width=\"100px\" height=\"100px\" src={githubLogo} />\n      </a>\n    )\n  }\n\n  return (\n    <div className = \"home\">\n      {/* <Link to = \"/wiki\">Wiki</Link> */}\n      <ul>\n        {\n          organizations.map(organization => {\n            return (\n              <li>\n                <Link to = { `/gantt/${organization.login}` }>{ organization.login } </Link>\n              </li>\n            )\n          })\n        }\n      </ul>\n    </div>\n  )\n}\n\nexport default withPersistence(withSdk(Home))\n","import React, { Component } from \"react\"\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\"\nimport OrganizationGantt from \"./OrganizationGantt.js\"\nimport Wiki from \"./Wiki.js\"\nimport Home from \"./Home.js\"\n\nconst App = () => {\n  return (\n    <Router basename='/'>\n      <Switch>\n        <Route exact path=\"/\" component={ Home } />\n        <Route exact path=\"/gantt/:organization\" component={ OrganizationGantt } />\n        <Route path=\"/wiki\" render={ Wiki } />\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./components/App\"\n\nrequire(\"isomorphic-fetch\")\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}